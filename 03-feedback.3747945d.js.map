{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SA8CW,MAALC,EAAUC,SAASC,cAAc,kBACjCC,EAAgBF,SAASC,cAAc,wBACvCE,EAAcH,SAASC,cAAc,2BAG3CF,EAAQK,iBAAiB,UAKzB,SAAsBC,GACpBA,EAAEC,iBAC+BC,QAAzBC,IAAI,CACVC,MAAOP,EAAcQ,MACrBC,QAASR,EAAYO,QAEvBL,EAAEO,cAAcC,QACoBC,aAAvBC,WAdU,0BAGzBhB,EAAQK,iBAAiB,SAAS,EAAAP,EAAAmB,WAclC,SAAyBX,GACvB,MAAMY,EAAe,CACnBR,MAAOP,EAAcQ,MACrBC,QAASR,EAAYO,OAEvBI,aAAaI,QAtBU,sBAsBgBC,KAAKC,UAAUH,MAnBI,MAuB5D,WACE,MAAMI,EAAeF,KAAKG,MAAMR,aAAaS,QA3BtB,wBA6BnBF,IACFnB,EAAcQ,MAAQW,EAAaZ,MACnCN,EAAYO,MAAQW,EAAaV,SA1BrCa","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\n// const formRef = document.querySelector('.feedback-form');\n// const inputEmailRef = document.querySelector(\"input[name='email']\");\n// const messageRef = document.querySelector(\"textarea[name='message']\");\n// const LOCALSTORAGE_KEY = 'feedback-from-state';\n\n// const load = key => {\n//   try {\n//     const serializedState = localStorage.getItem(key);\n//     return serializedState === null ? undefined : JSON.parse(serializedState);\n//   } catch (error) {\n//     console.error('Get state error: ', error.message);\n//   }\n// };\n\n// const storageData = load(LOCALSTORAGE_KEY);\n// if (storageData) {\n//   inputEmailRef.value = storageData.email;\n//   messageRef.value = storageData.message;\n// }\n\n// formRef.addEventListener('input', throttle(onInputHandler, 500));\n\n// function onInputHandler() {\n//   const objectToSave = {\n//     email: inputEmailRef.value,\n//     message: messageRef.value,\n//   };\n//   localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(objectToSave));\n// }\n\n// formRef.addEventListener('submit', onSubmit);\n\n// function onSubmit(e) {\n//   e.preventDefault();\n//   console.log({\n//     email: inputEmailRef.value,\n//     message: messageRef.value,\n//   });\n//   formRef.reset();\n//   localStorage.removeItem(LOCALSTORAGE_KEY);\n// }\n\n//---------Інше рішення----------------------------------\n\nconst formRef = document.querySelector('.feedback-form');\nconst inputEmailRef = document.querySelector('.feedback-form input');\nconst textareaRef = document.querySelector('.feedback-form textarea');\nconst LOCALSTORAGE_KEY = 'feedback-from-state';\n\nformRef.addEventListener('submit', onFormSubmit);\nformRef.addEventListener('input', throttle(onTextareaInput, 500));\n\npopulateTextarea();\n\nfunction onFormSubmit(e) {\n  e.preventDefault(); //зупиняємо перезавантаження сторінки\n  console.log({\n    email: inputEmailRef.value,\n    message: textareaRef.value,\n  });\n  e.currentTarget.reset(); // очищаємо введені дані користувача з форми\n  localStorage.removeItem(LOCALSTORAGE_KEY); //очищаємо зі сховища за даним ключем\n}\n\nfunction onTextareaInput(e) {\n  const objectToSave = {\n    email: inputEmailRef.value, // отримуємо значення введеного в поле email\n    message: textareaRef.value, // отримуємо значення введеного в textarea\n  };\n  localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(objectToSave)); //зберігаємо в сховище\n}\n\n// ----функція для збереження записаних даних користувача у форму до сабміта(щоб не втрачався введений текст, якщо користувач до сабміту покинув цю сторінку)-------------\nfunction populateTextarea() {\n  const savedMessage = JSON.parse(localStorage.getItem(LOCALSTORAGE_KEY));\n\n  if (savedMessage) {\n    inputEmailRef.value = savedMessage.email;\n    textareaRef.value = savedMessage.message;\n  }\n}\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$formRef","document","querySelector","$945622fd0f572e60$var$inputEmailRef","$945622fd0f572e60$var$textareaRef","addEventListener","e","preventDefault","console","log","email","value","message","currentTarget","reset","localStorage","removeItem","throttle","objectToSave","setItem","JSON","stringify","savedMessage","parse","getItem","$945622fd0f572e60$var$populateTextarea"],"version":3,"file":"03-feedback.3747945d.js.map"}